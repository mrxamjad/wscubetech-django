# Django Framwork

A brief description of what this project does and who it's for

## Python Setup

Check python version

```python
python
```

or

```python
py --version
```

check the installed package

```python
pip freeze
```

## Django Setup

Installed Django

```python
pip install django
```

or

```python
pip i django
```

Create a Django Project

```python
djano-admin startproject <ProjectName>
```

Navigae to your project directory

```bash
cd <ProjectDirectory>
```

Run Server

```python
python manage.py runserver
```

Run Server on Specific port if you want..

```python
python manage.py runserver <YOUR_PORT_NUMBER>
```

# Project Structure

See admin panel on browser once server runs
`http://127.0.0.1:8000/admin` if you are using custom port replace `8000` with your port number

- This admin panel is created by default.

## /template

- Created by you.
- This directory is used to store HTML templates for the project. It contains files that define the structure and layout of web pages.

## /static

- Created by you.
- The static directory is used to store static files such as CSS, JavaScript, images, and other resources that are served directly to the web browser.

## /media

- Created by you.
- This directory is used to store user-uploaded files such as images, videos, and other media assets.

## /manage.py

- By default.
- The manage.py file is a command-line utility that helps with various aspects of Django project management, including running development servers, creating migrations, and more.

## /db.sqlite3

- By default.
- This file contains the SQLite database for the project, which is the default database used by Django for local development.

## /<PROJECT_NAME>

- By default.
- This represents the main directory of the Django project, containing settings, URLs, and other configurations.
- It contains These file:

- `__init__.py` This file is required to treat the directory as a package, allowing for the import of other modules within the project
- `settings.py` This file includes all the project settings, such as database configurations, middleware settings, installed apps, static files setup, and more.
- `urls.py` URLs.py contains the URL patterns for the project, mapping the paths to the views within the project.
- `wsgi.py` WSGI (Web Server Gateway Interface) is an entry-point for the web servers to serve the project. This file enables the project to be deployed on WSGI-compliant servers
- `asgi.py` ASGI (Asynchronous Server Gateway Interface) is used for handling asynchronous code and allows Django to communicate with web servers and other protocols that support asynchronous Python.
- `/__pycache__`This directory contains Python bytecode cache files, which are automatically generated and used by Python to optimize performance during subsequent runs of the application.

# Django Project `settings.py` File Documentation

## Introduction

The `settings.py` file in a Django project contains all the project settings and configurations. It is a crucial file where various parameters such as database settings, middleware configurations, installed apps, static files setup, and more are defined.

## File Structure

Within the `settings.py` file, you will find the following key sections:

1. **Basic Configuration:**

   - This section includes essential project configurations like `DEBUG` mode, `ALLOWED_HOSTS`, and project's `SECRET_KEY`.

2. **Database Configuration:**

   - Contains database-related settings such as `DATABASES` dictionary with details like `ENGINE`, `NAME`, `USER`, `PASSWORD`, `HOST`, `PORT`, etc.

3. **Apps Configuration:**

   - Defines the list of installed apps for the project in the `INSTALLED_APPS` setting.

4. **Middleware Configuration:**

   - Lists the middleware classes that Django will use to process requests in the `MIDDLEWARE` setting.

5. **Static Files Configuration:**
   - Includes settings related to serving static files like `STATIC_URL`, `STATIC_ROOT`, `STATICFILES_DIRS`.

## Code Reference

Here is a basic code reference illustrating a sample `settings.py` file structure:

```python
"""
Django settings for wscubetech project.

Generated by 'django-admin startproject' using Django 5.0.3.

For more information on this file, see
https://docs.djangoproject.com/en/5.0/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.0/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.0/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-g0na$&eay@bqc)ytq5=xkmwpe0-*h2nulm+%&_*h$d*qcic_b2'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'wscubetech.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'wscubetech.wsgi.application'


# Database
# https://docs.djangoproject.com/en/5.0/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/5.0/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/5.0/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.0/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/5.0/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

```

## Database migration

Create schema to new change in data base

- Migrate Configure data base

```python
python manage.py migrate
```

- To see the migrated data base use a Database Viewer `sqlitebrowser` to download it visit `https://sqlitebrowser.org/dl/`

- Open Database and select your `db.sqlite3` file from the project
- Now your are seeing the database of your project for new changes repeat the same method

## Create Super User

Create a Super User to acess the a pannel

```bash
python manage.py createsuperuser
```

Enter these details for super user creation

```bash
Username (leave blank to use 'hp'): admin
Email address: abc@gmail.com
Password:
Password (again):
Superuser created successfully.
```

Now you can login to admin pannel bu visiting `http://127.0.0.1:8000/admin`

## Views and Urls

create a file `views.py` in `<PROJECT_NAME>\<PROJECT_NAME>` whare `urls.py` and `setting.py exist`

- `views.py`

```python
from django.http import HttpResponse  // return a simple text response

// method to return a data by hitting url
def about(request):
    return HttpResponse("Welcome to Wscubetech!")

    //return HttpResponse("<h1>Welcome to Wscubetech!<h1>")

```

now configure this mithod in `urls.py`

- `urls.py`

```python
"""
URL configuration for wscubetech project.

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/5.0/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
"""



// Code start from here
from django.contrib import admin
from django.urls import path
from wscubetech import views  //this is my code for configure url where wscubetech is my project name and views is my file name where I have created my function

urlpatterns = [
    path('admin/', admin.site.urls),

    path('about/', views.about)  // this my url configuration
]
```

## Dynamic URL

add these method to `views.py`

```python
from django.http import HttpResponse

# Simple view function
def about(request):
    return HttpResponse("<h1>Welcome to Wscubetech!<h1>")

# Setup view function with parameters with String type
def userDetailsByName( request, name):
    return HttpResponse(f"<h1>Welcome {name}!<h1>")

# Setup view function with parameters with Integer type
def userDetailsById( request, id):
    return HttpResponse(f"<h1>Welcome User with ID: {id}!<h1>")

# Setup view function with parameters with Slug type
def userDetailsBySlug( request, slug):
    return HttpResponse(f"<h1>Welcome User with Slug: {slug}!<h1>")

#Setupt user with without a type
def userDetailsByData(request, data):
    return HttpResponse(f"<h1>Welcome User {data}!<h1>")

```

handle these method in `urls.py`

```python
from django.contrib import admin
from django.urls import path
from wscubetech import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('about/', views.about),

    #these are the code for dynamic url
    path('user-name/<str:name>/', views.userDetailsByName),
    path('user-id/<int:id>/', views.userDetailsById),
    path('user-slug/<slug:slug>/', views.userDetailsBySlug),
    path('user/<data>/', views.userDetailsByData),


]


```

hit this url to get HttpResponse

- String parameters `http://127.0.0.1:8000/user-name/amjad@gmail.com`
- Int parameters `http://127.0.0.1:8000/user-id/amjad`
- Stug parameters `http://127.0.0.1:8000/user-slug/amjad-ssss-name`
- Without tpye parameters `http://127.0.0.1:8000/user/amjad`

`note` this is a default port number

## Render HTML static Template

Create a `templates` directory and create a html file in it eg `index.html`

- `index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>This is home page url</title>
    <style>
      body {
        background-color: #f3f3f3;
      }
      .first {
        margin: 0;
        padding: 0;
        text-align: center;
        background-color: cadetblue;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <h1 class="first">This is home page url</h1>
  </body>
</html>
```

- create a method to return the index.html view so to render the html file import `renderer` in `views.py`

```python
from django.shortcuts import render
```

now create this method to reder `index.html`

```python
def home(request):
    return render(request, 'index.html')
```

- now configure it with `urls.py`

```python
path("", views.homeDynamic)
```

`note` Since we are putting `" "` here it will come as default url like this `http://127.0.0.1:8000/`

- Since you have added a new folder so configure it it `settings.py`

replace `TEMPLATES` variable's `DIRS` with this:

```python
'DIRS': [BASE_DIR, 'templates'],
```

it will notify that one templates directory is added along with root directory

- Now you are ready to render so restart the server with `python manage.py runserver`

# Code Reference

- `views.py`

```python
from django.http import HttpResponse
from django.shortcuts import render

def home(request):
    return render(request, 'index.html')
```

- `urls.py`

```python
 path("", views.home),
```

- `settings.py`

```python
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR, 'templates'],  # Add this line to the TEMPLATES list it will allow Django to look for templates in the root directory of the project along with templated directory.

        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```

## Render HTML Dynamic template

jus change the `views.py` method like this

```python
def homeDynamic(request):

   data={
       "title": "Dynamic Title",
       "body": "Dynamic Body",
   }
   return render(request, 'index_dynamic.html', data)
```

`date` acts as a dicionary and pass as parameter. It will be fetch by its `key` like `title` and `body`

- Now add a new html file in `templates` directory eg `index_dynamic.html`
  `index_dynamic.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{title}}</title>
  </head>
  <body>
    {{body}}
  </body>
</html>
```

`{{}}` denotes that the value is assign Dynamically by parameter's `key` like `body` and `title`

configure this with `urls.py`

```python
 path("home-dynamic/", views.homeDynamic)
```

now restart the server and hit `http://127.0.0.1:8000/home-dynamic`
